<div *ngIf="this.globalService.showViewer" style="padding-left: 30px;padding-right: 30px;">
  <div class="columns is-vcentered is-multiline">
    <div class="column is-2">
      <label class="label has-text-grey-light">Representation</label>
      <div class="control has-icons-left">
        <div class="select is-fullwidth">
          <select [(ngModel)]="this.globalService.viewerSettings.representation" (change)="updateRepresentation()">
            <option value="cartoon">Cartoon</option>
            <option value="ball+stick">Ball + Stick</option>
            <option value="licorice">Licorice</option>
            <option value="ribbon">Ribbon</option>
            <option value="spacefill">Spacefill</option>
            <option value="backbone">Backbone</option>
            <option value="hyperball">Hyperball</option>
            <option value="contact">Contact</option>
            <option value="label">Label</option>
            <option value="point">Point</option>
          </select>
        </div>
        <span class="icon is-left">
          <i class="fas fa-shapes"></i>
        </span>
      </div>
    </div>

    <div class="column is-3" #viewerSection>
      <label class="label has-text-grey-light">Color Scheme</label>
      <div class="control has-icons-left">
        <div class="select is-fullwidth">
          <select [(ngModel)]="this.globalService.viewerSettings.color" (change)="updateRepresentation()">
            <option value="chainname">Chain</option>
            <option value="element">Element</option>
            <option value="hydrophobicity">Hydrophobicity</option>
            <option value="resname">Residue Name</option>
            <option value="bfactor">B-Factor</option>
            <option value="uniform">Uniform</option>
            <option value="resname">Resname</option>
            <option value="chainid">Chainid</option>
            <option value="atomindex">Atomindex</option>
            <option value="sstruc">Sstruc</option>
            <option value="modelindex">Modelindex</option>
          </select>
        </div>
        <span class="icon is-left">
          <i class="fas fa-palette"></i>
        </span>
      </div>
    </div>

    <div class="column is-2">
      <label class="label has-text-grey-light">Focus Chain</label>
      <div class="control has-icons-left">
        <div class="select is-fullwidth">
          <select [(ngModel)]="this.globalService.viewerSettings.focusChain"
            [disabled]="!this.globalService.availableChains.length">
            <option value="">Select Chain</option>
            <option *ngFor="let chain of this.globalService.availableChains" [value]="chain" (click)="focusChain()">
              {{ chain }}
            </option>
          </select>
        </div>
        <span class="icon is-left">
          <i class="fas fa-crosshairs"></i>
        </span>
      </div>
    </div>

    <div class="column has-text-centered">
      <label class="label has-text-grey-light">Download</label>
      <button class="button is-primary is-fullwidth" (click)="takeScreenshot()" [disabled]="!this.globalService.stage">
        <span class="icon"><i class="fas fa-download"></i></span>
      </button>
    </div>

    <div class="column is-1 has-text-centered">
      <label class="label has-text-grey-light">Fullscreen</label>
      <button class="button is-white" (click)="toggleFullscreen()"
        style="color: #363636;border: 1px solid rgb(120, 120, 120);">
        <span class="icon">
          <i class="fas fa-expand"></i>
        </span>
      </button>
    </div>

    <div class="column is-1 has-text-centered">
      <label class="label has-text-grey-light">Zoom out</label>
      <button class="button is-white" (click)="zoomOut()" style="border: 1px solid rgb(120,120,120); color:#363636;">
        <span class="icon"><i class="fas fa-search-minus"></i></span>
      </button>
    </div>

    <div class="column is-1 has-text-centered">
      <label class="label has-text-grey-light">Zoom In</label>
      <button class="button is-white" (click)="zoomIn()" style="border: 1px solid rgb(120,120,120); color:#363636;">
        <span class="icon"><i class="fas fa-search-plus"></i></span>
      </button>
    </div>

    <div class="column is-1 has-text-centered">
      <label class="label has-text-grey-light">Refresh</label>
      <button class="button is-white" (click)="refreshViewer()" [disabled]="!this.globalService.stage"
        title="Refresh Viewer" style="border: 1px solid rgb(120,120,120); color:#363636;">
        <span class="icon">
          <i class="fas fa-sync-alt"></i>
        </span>
      </button>
    </div>

  </div>
</div>

<div *ngIf="this.globalService.showViewer" class="viewer-container">
  <div id="viewport" style="width:100%; height:600px; border:1px solid #ccc; border-radius:8px;"></div>
</div>